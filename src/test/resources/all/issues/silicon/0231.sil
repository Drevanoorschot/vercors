predicate mustTerminate$(r: Ref) {
  true
}

method test(this: Ref)
  requires acc(mustTerminate$(this), write);
{
  exhale perm(mustTerminate$(this)) == write &&
         acc(mustTerminate$(this), write) &&
         perm(mustTerminate$(this)) == none;
}
