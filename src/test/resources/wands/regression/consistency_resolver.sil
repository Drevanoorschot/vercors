/* Consistency checks made by the resolver in order to catch malformed ASTs
 * that cannot be generated programmatically, but that can be generated by
 * the parser. That is, the resolver detects malformed parser ASTs.
 */

field f: Int
field g: Int

predicate Pair(this: Ref) {
  acc(this.f, write) && acc(this.g, write)
}

method test06(p: Ref) {
  //:: ExpectedOutput(typechecker.error)
  apply folding acc(Pair(p), write) in true --* true
    /* Apply accepts magics wands only */
}

method test07(p: Ref) {
  //:: ExpectedOutput(typechecker.error)
  package folding acc(Pair(p), write) in true --* true
    /* Package accepts magics wands only */
}
